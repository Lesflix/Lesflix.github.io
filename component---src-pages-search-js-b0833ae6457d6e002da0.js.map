{"version":3,"file":"component---src-pages-search-js-b0833ae6457d6e002da0.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/components/DivContainer.js","webpack://gatsby-starter-blog/./src/components/PostCard/PostCard.js","webpack://gatsby-starter-blog/./src/containers/PostListContainer.js","webpack://gatsby-starter-blog/./src/pages/search.js","webpack://gatsby-starter-blog/./src/images/play.svg"],"sourcesContent":["import styled from \"@emotion/styled\"\nimport React from \"react\"\n\nfunction DivContainer({ children }) {\n  return <DivContainerStyle>{children}</DivContainerStyle>\n}\n\nconst DivContainerStyle = styled.div`\n  overflow: hidden;\n  * {\n    color: var(--themFont);\n    font-size: 2vw;\n  }\n  @media screen and (min-width: 1920px) {\n    margin: 22px 34px;\n  }\n  @media screen and (min-width: 1080px) and (max-width: 1919px) {\n    margin: 22px 34px;\n  }\n  @media screen and (min-width: 768px) and (max-width: 1079px) {\n    margin: 22px 34px;\n  }\n  @media screen and (max-width: 767px) {\n    margin: 12px;\n  }\n`\nexport default DivContainer\n","import styled from \"@emotion/styled\"\nimport { navigate } from \"gatsby\"\nimport React, { useState } from \"react\"\n\nfunction PostCard({ post, isSlide, selectId, setSelectId }) {\n  const [isHover, setIsHover] = useState(false)\n  return !isSlide ? (\n    <PostCardStyle\n      $isSlide={isSlide}\n      onClick={() => {\n        setIsHover(false)\n        navigate(post.fields.slug)\n      }}\n    >\n      <img\n        src={`/poster/${\n          post.frontmatter.imgname ? post.frontmatter.imgname : \"default.png\"\n        }`}\n        alt={post.frontmatter.title.split(\"&\")[0]}\n      />\n    </PostCardStyle>\n  ) : (\n    <PostCardStyle\n      onMouseOver={e => {\n        e.stopPropagation()\n        setSelectId(post.id)\n        setIsHover(true)\n      }}\n      onMouseLeave={() => {\n        setIsHover(false)\n      }}\n      onClick={() => {\n        if (selectId === post.id) {\n          setIsHover(true)\n        } else {\n          setIsHover(false)\n        }\n      }}\n    >\n      <img\n        src={`/poster/${\n          post.frontmatter.imgname ? post.frontmatter.imgname : \"default.png\"\n        }`}\n        alt={post.frontmatter.title}\n      />\n      <div\n        className={isHover ? \"valid\" : \"unvalid\"}\n        onClick={e => {\n          e.stopPropagation()\n          if (isHover && selectId === post.id) {\n            navigate(post.fields.slug)\n          }\n        }}\n      >\n        <img src={require(`../../images/play.svg`).default} alt=\"이동\" />\n      </div>\n    </PostCardStyle>\n  )\n}\n\nexport default PostCard\n\nconst PostCardStyle = styled.div`\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: 30px;\n  box-sizing: border-box;\n  border-radius: 12px;\n  overflow: hidden;\n  ${({ $isSlide }) => {\n    if (false === $isSlide) return \"cursor: pointer;\"\n  }}\n  position: relative;\n  .unvalid {\n    display: none;\n  }\n  .valid {\n    display: block;\n    width: 50%;\n    border-radius: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: calc(-25%);\n    background-color: rgba(255, 255, 255, 0.4);\n    cursor: pointer;\n  }\n  img {\n    display: block;\n    width: 100%;\n  }\n`\n","import styled from \"@emotion/styled\"\nimport React from \"react\"\nimport PostCard from \"../components/PostCard/PostCard\"\nimport { v1 as uuid } from \"uuid\"\nimport { useLocation } from \"@reach/router\"\nfunction PostListContainer({ postList, isSlide }) {\n  const path = useLocation().pathname\n  return (\n    <PostListContainerStyle>\n      {postList.length ? (\n        postList.map(post => (\n          <div className=\"item\" key={uuid()}>\n            <PostCard isSlide={isSlide} post={post} />\n          </div>\n        ))\n      ) : path.includes(\"search\") ? (\n        <div className=\"msg\">검색 결과가 없습니다</div>\n      ) : (\n        <div className=\"msg\">준비 중</div>\n      )}\n    </PostListContainerStyle>\n  )\n}\nconst PostListContainerStyle = styled.div`\n  width: 100%;\n  .item {\n    float: left;\n  }\n  &::after {\n    content: \"\";\n    display: block;\n    clear: both;\n    visibility: hidden;\n  }\n  @media screen and (min-width: 1920px) {\n    .item {\n      padding: 20px;\n      width: 10%;\n    }\n    margin: 30px -10px 0 0;\n  }\n  @media screen and (min-width: 1080px) and (max-width: 1919px) {\n    .item {\n      padding: 20px;\n      width: 20%;\n    }\n    margin: 25px -10px 0 0;\n  }\n  @media screen and (min-width: 768px) and (max-width: 1079px) {\n    .item {\n      padding: 16px;\n      width: 25%;\n    }\n    margin: 20px -8px 0 0;\n  }\n  @media screen and (min-width: 375px) and (max-width: 767px) {\n    .item {\n      padding: 8px;\n      width: 33%;\n    }\n    margin: 15px -4px 0 0;\n  }\n  @media screen and (max-width: 374px) {\n    .item {\n      padding: 6px;\n      width: 50%;\n    }\n    margin: 10px -3px 0 0;\n  }\n`\nexport default PostListContainer\n","import { graphql } from \"gatsby\"\nimport React, { useEffect, useMemo, useState } from \"react\"\nimport Seo from \"../components/Seo\"\nimport Layout from \"../components/Layout\"\nimport PostListContainer from \"../containers/PostListContainer\"\nimport HeaderContainer from \"../containers/HeaderContainer\"\nimport DivContainer from \"../components/DivContainer\"\nimport styled from \"@emotion/styled\"\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___release], order: DESC }) {\n      nodes {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          title\n          originalTitle\n          description\n          genre\n          imgname\n          release\n          ott\n          countries\n          categories\n        }\n      }\n    }\n  }\n`\nfunction Search({ data, location }) {\n  const searchWord = decodeURI(location.search?.replace(\"?q=\", \"\"))\n  const searchWordTrim = useMemo(() => {\n    return searchWord.replace(/ /gi, \"\")\n  }, [searchWord])\n  const postList = data.allMarkdownRemark.nodes\n  const [filteredPosts, setFilteredPosts] = useState(fucSetFilterPostList())\n\n  useEffect(() => {\n    setFilteredPosts(fucSetFilterPostList())\n  }, [searchWord])\n  function fucSetFilterPostList() {\n    return postList.filter(post => {\n      const { title, description, genre, countries, ott, categories } =\n        post.frontmatter\n      return (\n        (description &&\n          description\n            .replace(/ /gi, \"\")\n            .toLowerCase()\n            .includes(searchWordTrim?.toLowerCase())) ||\n        (title &&\n          title\n            .replace(/ /gi, \"\")\n            .toLowerCase()\n            .includes(searchWordTrim?.toLowerCase())) ||\n        (genre &&\n          genre\n            .replace(/ /gi, \"\")\n            .toLowerCase()\n            .includes(searchWordTrim?.toLowerCase())) ||\n        (countries &&\n          countries\n            .join(\"\")\n            .toLowerCase()\n            .includes(searchWordTrim?.toLowerCase())) ||\n        (ott &&\n          ott.join(\"\").toLowerCase().includes(searchWordTrim?.toLowerCase())) ||\n        (categories &&\n          categories\n            .join(\"\")\n            .toLowerCase()\n            .includes(searchWordTrim?.toLowerCase()))\n      )\n    })\n  }\n  return (\n    <div>\n      <HeaderContainer />\n      <Layout location={location}>\n        <Seo title={`${searchWord} 검색 결과`} description={\"\"} />\n        <DivContainer>\n          <Msg>\n            {searchWord ? `${searchWord} 검색 결과` : \"검색어를 입력해주세요\"}\n          </Msg>\n          <PostListContainer postList={filteredPosts} isSlide={false} />\n        </DivContainer>\n      </Layout>\n    </div>\n  )\n}\n\nconst Msg = styled.strong`\n  font-size: 2.8vw;\n`\n\nexport default Search\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDg1IiBoZWlnaHQ9IjQ4NSIgdmlld0JveD0iMCAwIDQ4NSA0ODUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00MTMuOTc0IDcxLjAyNkMzNjguMTcxIDI1LjIyNSAzMDcuMjc0IDAgMjQyLjUgMEMxNzcuNzI2IDAgMTE2LjgyOSAyNS4yMjUgNzEuMDI2IDcxLjAyNkMyNS4yMjUgMTE2LjgyOSAwIDE3Ny43MjYgMCAyNDIuNUMwIDMwNy4yNzQgMjUuMjI1IDM2OC4xNzEgNzEuMDI2IDQxMy45NzRDMTE2LjgyOSA0NTkuNzc1IDE3Ny43MjYgNDg1IDI0Mi41IDQ4NUMzMDcuMjc0IDQ4NSAzNjguMTcxIDQ1OS43NzUgNDEzLjk3NCA0MTMuOTc0QzQ1OS43NzUgMzY4LjE3MSA0ODUgMzA3LjI3NCA0ODUgMjQyLjVDNDg1IDE3Ny43MjYgNDU5Ljc3NSAxMTYuODI5IDQxMy45NzQgNzEuMDI2Wk0yNDIuNSA0NTVDMTI1LjMyNyA0NTUgMzAgMzU5LjY3MyAzMCAyNDIuNUMzMCAxMjUuMzI3IDEyNS4zMjcgMzAgMjQyLjUgMzBDMzU5LjY3MyAzMCA0NTUgMTI1LjMyNyA0NTUgMjQyLjVDNDU1IDM1OS42NzMgMzU5LjY3MyA0NTUgMjQyLjUgNDU1WiIgZmlsbD0iI0VDMjUxNiIvPgo8cGF0aCBkPSJNMTgxLjA2MiAzMzYuNTc1TDM0My45MzggMjQyLjVMMTgxLjA2MiAxNDguNDI1VjMzNi41NzVaIiBmaWxsPSIjRUMyNTE2Ii8+Cjwvc3ZnPgo=\""],"names":["DivContainerStyle","styled","children","post","isSlide","selectId","setSelectId","useState","isHover","setIsHover","PostCardStyle","onMouseOver","e","stopPropagation","id","onMouseLeave","onClick","src","frontmatter","imgname","alt","title","className","navigate","fields","slug","require","$isSlide","split","PostListContainerStyle","postList","path","useLocation","pathname","length","map","key","uuid","includes","Msg","data","location","searchWord","decodeURI","search","replace","searchWordTrim","useMemo","allMarkdownRemark","nodes","fucSetFilterPostList","filteredPosts","setFilteredPosts","filter","description","genre","countries","ott","categories","toLowerCase","join","useEffect"],"sourceRoot":""}
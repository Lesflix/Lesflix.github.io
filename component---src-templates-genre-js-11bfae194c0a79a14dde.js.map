{"version":3,"file":"component---src-templates-genre-js-11bfae194c0a79a14dde.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/components/DivContainer.js","webpack://gatsby-starter-blog/./src/components/PostCard/PostCard.js","webpack://gatsby-starter-blog/./src/containers/PostListContainer.js","webpack://gatsby-starter-blog/./src/const/categorys.js","webpack://gatsby-starter-blog/./src/containers/FilterListContainer.js","webpack://gatsby-starter-blog/./src/containers/SubFilterContainter.js","webpack://gatsby-starter-blog/./src/templates/genre.js","webpack://gatsby-starter-blog/./src/images/play.svg"],"sourcesContent":["import styled from \"@emotion/styled\"\nimport React from \"react\"\n\nfunction DivContainer({ children }) {\n  return <DivContainerStyle>{children}</DivContainerStyle>\n}\n\nconst DivContainerStyle = styled.div`\n  overflow: hidden;\n  * {\n    margin: 0;\n    padding: 0;\n    color: var(--themFont);\n    font-size: 2vw;\n  }\n  @media screen and (min-width: 1920px) {\n    margin: 22px 34px;\n  }\n  @media screen and (min-width: 1080px) and (max-width: 1919px) {\n    margin: 22px 34px;\n  }\n  @media screen and (min-width: 768px) and (max-width: 1079px) {\n    margin: 22px 34px;\n  }\n  @media screen and (max-width: 767px) {\n    margin: 12px;\n  }\n`\nexport default DivContainer\n","import styled from \"@emotion/styled\"\nimport { navigate } from \"gatsby\"\nimport React, { useState } from \"react\"\n\nfunction PostCard({ post, isSlide }) {\n  const [isHover, setIsHover] = useState(false)\n  return isSlide !== \"/\" ? (\n    <PostCardStyle\n      onClick={() => {\n        setIsHover(false)\n        navigate(post.fields.slug)\n      }}\n    >\n      <img\n        src={`/poster/${\n          post.frontmatter.imgname ? post.frontmatter.imgname : \"default.png\"\n        }`}\n        alt={post.frontmatter.title}\n      />\n    </PostCardStyle>\n  ) : (\n    <PostCardStyle\n      onMouseOver={() => {\n        setIsHover(true)\n      }}\n      onMouseLeave={() => {\n        setIsHover(false)\n      }}\n      onDoubleClick={() => {\n        setIsHover(false)\n        navigate(post.fields.slug)\n      }}\n    >\n      <img\n        src={`/poster/${\n          post.frontmatter.poster ? post.frontmatter.poster : \"default.png\"\n        }`}\n        alt={post.frontmatter.title}\n      />\n      <div\n        onClick={() => {\n          setIsHover(false)\n          navigate(post.fields.slug)\n        }}\n        className={isHover ? \"valid\" : \"unvalid\"}\n      >\n        <img src={require(`../../images/play.svg`).default} alt=\"이동\" />\n      </div>\n    </PostCardStyle>\n  )\n}\n\nexport default PostCard\n\nconst PostCardStyle = styled.div`\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: 30px;\n  box-sizing: border-box;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  position: relative;\n  &:hover {\n    /* box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,\n      rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,\n      rgba(255, 255, 255, 0.08) 0px 1px 0px inset; */\n  }\n  .unvalid {\n    display: none;\n  }\n  .valid {\n    display: block;\n    width: 50%;\n    border-radius: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: calc(-25%);\n    background-color: rgba(255, 255, 255, 0.4);\n  }\n  img {\n    display: block;\n    width: 100%;\n  }\n`\n","import styled from \"@emotion/styled\"\nimport React from \"react\"\nimport PostCard from \"../components/PostCard/PostCard\"\nimport { v1 as uuid } from \"uuid\"\nimport { useLocation } from \"@reach/router\"\nfunction PostListContainer({ postList, isSlide }) {\n  const path = useLocation().pathname\n  return (\n    <PostListContainerStyle>\n      {postList.length ? (\n        postList.map(post => (\n          <div className=\"item\" key={uuid()}>\n            <PostCard isSlide={isSlide} post={post} />\n          </div>\n        ))\n      ) : path.includes(\"search\") ? (\n        <div className=\"msg\">검색 결과가 없습니다</div>\n      ) : (\n        <div className=\"msg\">준비 중</div>\n      )}\n    </PostListContainerStyle>\n  )\n}\nconst PostListContainerStyle = styled.div`\n  width: fit-content;\n  .item {\n    float: left;\n  }\n  &::after {\n    content: \"\";\n    display: block;\n    clear: both;\n    visibility: hidden;\n  }\n  @media screen and (min-width: 1920px) {\n    .item {\n      padding: 20px;\n      width: 10%;\n    }\n    margin: 30px -10px 0 0;\n  }\n  @media screen and (min-width: 1080px) and (max-width: 1919px) {\n    .item {\n      padding: 20px;\n      width: 20%;\n    }\n    margin: 25px -10px 0 0;\n  }\n  @media screen and (min-width: 768px) and (max-width: 1079px) {\n    .item {\n      padding: 16px;\n      width: 25%;\n    }\n    margin: 20px -8px 0 0;\n  }\n  @media screen and (min-width: 375px) and (max-width: 767px) {\n    .item {\n      padding: 8px;\n      width: 33%;\n    }\n    margin: 15px -4px 0 0;\n  }\n  @media screen and (max-width: 374px) {\n    .item {\n      padding: 6px;\n      width: 50%;\n    }\n    margin: 10px -3px 0 0;\n  }\n`\nexport default PostListContainer\n","export const categorys = {\n  all: \"전체\",\n  ott: \"OTT\",\n  countries: \"나라\",\n  categories: \"장르\",\n}\n","import styled from \"@emotion/styled\"\nimport React from \"react\"\nimport { categorys } from \"../const/categorys\"\nimport { v1 as uuid } from \"uuid\"\nimport { navigate } from \"gatsby\"\nfunction FilterListContainer({ genre, filter, setFilter, setSubFilter }) {\n  const filterList = Object.keys(categorys)\n  return (\n    <ListStyle>\n      {filterList.map(cate => (\n        <strong\n          key={uuid()}\n          className={cate === filter ? \"select\" : \"\"}\n          onClick={() => {\n            navigate(`/${genre}?cate=${cate}`)\n            setFilter(cate)\n            setSubFilter(\"\")\n          }}\n        >\n          {categorys[cate]}\n        </strong>\n      ))}\n    </ListStyle>\n  )\n}\n\nconst ListStyle = styled.div`\n  display: flex;\n  gap: 20px;\n  &:hover {\n    cursor: pointer;\n  }\n  * {\n    font-size: 2.8vw;\n  }\n  .select {\n    color: var(--primary);\n  }\n`\nexport default FilterListContainer\n","import styled from \"@emotion/styled\"\nimport { navigate } from \"gatsby\"\nimport React from \"react\"\nimport { v1 as uuid } from \"uuid\"\n\nfunction SubFilterContainter({\n  genre,\n  filter,\n  subFilter,\n  subFilterList,\n  setSubFilter,\n}) {\n  return (\n    <ListStyle>\n      {subFilterList.map(sub => (\n        <div\n          className={subFilter === sub ? \"select item\" : \"item\"}\n          key={uuid()}\n          onClick={() => {\n            navigate(`/${genre}?cate=${filter}&${filter}=${encodeURI(sub)}`)\n            setSubFilter(sub)\n          }}\n        >\n          {sub}\n        </div>\n      ))}\n    </ListStyle>\n  )\n}\nconst ListStyle = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 10px;\n  .item {\n    margin-right: 10px;\n  }\n  * {\n    font-size: 2.5vw;\n    & {\n      cursor: pointer;\n    }\n  }\n  .select {\n    color: var(--primary);\n  }\n`\nexport default SubFilterContainter\n","import { graphql, navigate } from \"gatsby\"\nimport React, { useEffect, useState } from \"react\"\nimport DivContainer from \"../components/DivContainer\"\nimport Layout from \"../components/Layout\"\nimport HeaderContainer from \"../containers/HeaderContainer\"\nimport PostListContainer from \"../containers/PostListContainer\"\nimport FilterListContainter from \"../containers/FilterListContainer\"\nimport SubFilterContainter from \"../containers/SubFilterContainter\"\nimport { genres } from \"../const/genres\"\nimport styled from \"@emotion/styled\"\nimport Seo from \"../components/Seo\"\nconst Genre = ({ data, location }) => {\n  const { nodes: postList } = data.allMarkdownRemark\n  const genre = location.pathname.replace(/\\//g, \"\")\n  const prams = new URLSearchParams(location.search)\n  let [filteredPost, setFilteredPostList] = useState(postList)\n  const [filter, setFilter] = useState(prams.get(\"cate\"))\n  const [subFilterList, setSubFilterList] = useState([])\n  const [subFilter, setSubFilter] = useState(\n    prams.get(filter) ? prams.get(filter) : \"\"\n  )\n  useEffect(() => {\n    if (!filter) {\n      navigate(`/${genre}?cate=all`)\n      setFilter(\"all\")\n    }\n  }, [filter])\n\n  useEffect(() => {\n    let temp = new Set()\n    postList.forEach(({ frontmatter }) => {\n      if (\"string\" !== typeof frontmatter[filter]) {\n        frontmatter[filter]?.forEach(data => {\n          temp.add(data.split(\"&\")[0])\n        })\n      } else {\n        temp.add(frontmatter[filter])\n      }\n    })\n    setSubFilterList([...temp].sort())\n  }, [filter, postList])\n\n  useEffect(() => {\n    if (subFilter !== \"\") {\n      setFilteredPostList(\n        postList.filter(({ frontmatter }) => {\n          let searchArrRes = false\n          for (let i = 0; i < frontmatter[filter]?.length; i++) {\n            if (frontmatter[filter][i].match(`${subFilter}`)) {\n              searchArrRes = true\n              break\n            }\n          }\n          return frontmatter[filter] === subFilter || searchArrRes\n        })\n      )\n    }\n  }, [filter, subFilter, postList])\n\n  return (\n    <>\n      <HeaderContainer />\n      <Layout location={location}>\n        <Seo title={genre} description={\"\"} />\n        <DivContainer>\n          <FilterListContainter\n            genre={genre}\n            filter={filter}\n            setFilter={setFilter}\n            setSubFilter={setSubFilter}\n          />\n          {subFilterList.length > 0 && (\n            <SubFilterContainter\n              genre={genre}\n              filter={filter}\n              subFilter={subFilter}\n              subFilterList={subFilterList}\n              setSubFilter={setSubFilter}\n            />\n          )}\n          <CountMsg>\n            총{\" \"}\n            <strong>\n              {subFilter !== \"\" ? filteredPost.length : postList.length}\n            </strong>\n            개의 {genres[genre]}\n          </CountMsg>\n          <PostListContainer\n            isSlide={false}\n            postList={subFilter !== \"\" ? filteredPost : postList}\n          />\n        </DivContainer>\n      </Layout>\n    </>\n  )\n}\nexport default Genre\n\nconst CountMsg = styled.div`\n  margin-top: 10px;\n  font-size: 1.8vw;\n`\nexport const pageQuery = graphql`\n  query filteredPost($genre: String) {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___release], order: DESC }\n      filter: {\n        frontmatter: {\n          genre: { eq: $genre }\n          title: { regex: \"/^((?!시즌).)*$/\" }\n        }\n      }\n    ) {\n      nodes {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          title\n          originalTitle\n          description\n          genre\n          imgname\n          release\n          ott\n          countries\n          end\n          categories\n        }\n      }\n      totalCount\n      group(field: frontmatter___ott) {\n        fieldValue\n      }\n    }\n  }\n`\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDg1IiBoZWlnaHQ9IjQ4NSIgdmlld0JveD0iMCAwIDQ4NSA0ODUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00MTMuOTc0IDcxLjAyNkMzNjguMTcxIDI1LjIyNSAzMDcuMjc0IDAgMjQyLjUgMEMxNzcuNzI2IDAgMTE2LjgyOSAyNS4yMjUgNzEuMDI2IDcxLjAyNkMyNS4yMjUgMTE2LjgyOSAwIDE3Ny43MjYgMCAyNDIuNUMwIDMwNy4yNzQgMjUuMjI1IDM2OC4xNzEgNzEuMDI2IDQxMy45NzRDMTE2LjgyOSA0NTkuNzc1IDE3Ny43MjYgNDg1IDI0Mi41IDQ4NUMzMDcuMjc0IDQ4NSAzNjguMTcxIDQ1OS43NzUgNDEzLjk3NCA0MTMuOTc0QzQ1OS43NzUgMzY4LjE3MSA0ODUgMzA3LjI3NCA0ODUgMjQyLjVDNDg1IDE3Ny43MjYgNDU5Ljc3NSAxMTYuODI5IDQxMy45NzQgNzEuMDI2Wk0yNDIuNSA0NTVDMTI1LjMyNyA0NTUgMzAgMzU5LjY3MyAzMCAyNDIuNUMzMCAxMjUuMzI3IDEyNS4zMjcgMzAgMjQyLjUgMzBDMzU5LjY3MyAzMCA0NTUgMTI1LjMyNyA0NTUgMjQyLjVDNDU1IDM1OS42NzMgMzU5LjY3MyA0NTUgMjQyLjUgNDU1WiIgZmlsbD0iI0VDMjUxNiIvPgo8cGF0aCBkPSJNMTgxLjA2MiAzMzYuNTc1TDM0My45MzggMjQyLjVMMTgxLjA2MiAxNDguNDI1VjMzNi41NzVaIiBmaWxsPSIjRUMyNTE2Ii8+Cjwvc3ZnPgo=\""],"names":["DivContainerStyle","styled","children","post","isSlide","useState","isHover","setIsHover","PostCardStyle","onClick","navigate","fields","slug","src","frontmatter","imgname","alt","title","onMouseOver","onMouseLeave","onDoubleClick","poster","className","require","PostListContainerStyle","postList","path","useLocation","pathname","length","map","key","uuid","includes","categorys","all","ott","countries","categories","ListStyle","genre","filter","setFilter","setSubFilter","filterList","Object","keys","cate","subFilter","subFilterList","sub","encodeURI","data","location","allMarkdownRemark","nodes","replace","prams","URLSearchParams","search","filteredPost","setFilteredPostList","get","setSubFilterList","useEffect","temp","Set","forEach","add","split","sort","searchArrRes","i","match","HeaderContainer","Layout","Seo","description","DivContainer","CountMsg","genres","PostListContainer"],"sourceRoot":""}